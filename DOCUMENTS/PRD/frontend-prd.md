# 프론트엔드 PRD: 국민연금 온라인 여론 분석 대시보드

## 1. 목적
- 정책결정자·분석가·커뮤니케이션 담당자가 여론 감성·이슈·이벤트 효과를 신속히 이해하고 의사결정에 활용하도록 직관적이고 반응성 높은 UI/UX 제공.

## 2. 사용자 페르소나 및 요구
- 정책결정자(임원): 1-3분 내 핵심 상황 파악, 신뢰 가능한 지표/요약.
- 분석가/리서처: 깊은 드릴다운, 필터 조합, 데이터 다운로드, 쿼리 저장.
- 커뮤니케이션 담당: 이슈별 감성 스냅샷, 타겟 세그먼트 비교, 콘텐츠 아이디어.

## 3. 주요 사용자 여정(Flows)
- 온보딩 → 저장된 뷰 로드 → 기간/채널/이슈 필터 → 대시보드 해석 → 알림/리포트 공유.
- 이슈 탐색 → 토픽/ABSA 드릴다운 → 댓글 샘플/근거 확인 → 요약 생성(RAG) → 인사이트 저장.
- 이벤트 분석 → 정책 발표 시점 선택 → ITS 결과 확인 → 비교 보고서 PDF 추출.

## 4. 페이지/기능 상세

### 4.1 로그인/권한
- 기능: OAuth2/OIDC 로그인, 역할(Role: admin, analyst, comms, viewer)별 가시성 제어.
- UX: SSO 버튼, 2단계 로딩(토큰→프로필), 실패 시 가이드.

### 4.2 홈(Executive Overview)
- 카드: 전체 감성 분포, 금주 추이, 상위 이슈 Top5, 경보 현황, 영향력 채널 Top3.
- 그래프: 시계열 스파크라인(긍/부/중), 감정 레이더, 이슈 워드클라우드.
- 인터랙션: 기간 프리셋(7/30/90일), 원클릭 리포트(PDF/링크).

### 4.3 대시보드(Analytics)
- 필터 패널: 기간, 채널, 소스, 이슈/토픽, 연령대(가능 시), 커뮤니티, 키워드.
- 위젯
  - 감성 분포(파이/도넛), 시계열(스택/라인), 8감정 히트맵.
  - ABSA: Aspect별 긍/부/중 바차트, 근거 스팬 리스트.
  - 토픽: BERTopic 클러스터맵, 토픽별 추이, 용어 테이블.
  - 채널 비교: 커뮤니티/포털/X 비교 바차트.
  - 샘플 뷰: 대표 댓글/포스트, 출처 링크, 감성·이슈 태그, 근거 하이라이트.
- 기능: 위젯 레이아웃 저장/공유, CSV/JSON 다운로드, 쿼리 공유 링크.

### 4.4 이슈 탐색(Explore)
- 검색창: 자연어 쿼리(예: "보험료율 13% 반대 논거").
- 결과: 관련 토픽, Aspect 카드, 요약(LLM), 핵심 근거 3~5개 스니펫.
- 기능: 요약 재생성(프롬프트 변경), 저장, 노트 작성.

### 4.5 이벤트 분석(Policy Impact)
- 타임라인: 정책 이벤트 목록, 선택 시 ITS 분석 요청.
- 뷰: 전/후 감성 변화, 추정 효과치와 신뢰구간, 플라시보 체크(옵션).
- 기능: 보고서 생성, 이벤트 비교(동시 2개), 저장.

### 4.6 알림 센터(Alerts)
- 목록: 경보 레벨, 이슈, 발생 시각, 트리거 지표, 상태(열람/확인/무시).
- 실시간: WebSocket 구독, 배지 카운트, 토스트 알림.
- 정책: 임계치/변동성 룰 설명, 알림 구독 관리(이메일/Slack).

### 4.7 설정(Settings)
- 개인: 기본 기간, 다크모드, 언어(ko/en), 즐겨찾기 뷰.
- 팀: 저장된 뷰 권한, API 키 보기(권한 제한), 데이터 사전 링크.

### 4.8 도움말/투명성(Help & Model Cards)
- 모델 카드: 학습 데이터, 한계, 편향 고지.
- 데이터 품질: 최근 수집량, 결측/중복률, 시스템 상태.

## 5. UX 원칙
- 가독성(정책 현업 기준 폰트/색상 대비), 정보 계층화(요약→세부), 일관성 있는 필터·상태 보존, 접근성 AA.

## 6. 컴포넌트 설계(요약)
- 필터바, 기간 선택기, 카드/위젯 컨테이너, 차트(라인/바/히트/워드클라우드), 표 그리드(가상 스크롤), 요약 패널, 근거 하이라이트, 알림 배지/토스트, 저장/공유 모달.

## 7. 비기능 요구
- 성능: 초기 LCP < 2.5s, 상호작용 TTI < 3s, 대시보드 위젯 95p 응답 < 1s(캐시·프리페치), 차트 20k 포인트 가상화.
- 신뢰성: WS 재연결, API 실패 재시도/백오프, 오프라인 캐시(읽기 전용).
- 보안: OIDC/OAuth2, 토큰 보관(메모리/HttpOnly), SSO 로그아웃.
- 배포 호환: (GCP) Cloud Run + Cloud CDN, (Linux) Nginx 리버스 프록시 + Docker Compose.

## 8. 측정/로깅
- 프론트 측정: Web Vitals, 사용자 이벤트(필터/다운로드/요약 요청), 피처 플래그.

## 9. 출시 범위(MVP → GA)
- MVP: 홈, 대시보드 필수 위젯, 알림 실시간, 저장/공유, 요약(RAG) 단일 템플릿.
- GA: 이벤트 분석, ABSA 근거 강조, 고급 비교, 보고서 생성.

## 10. 수용 기준(Acceptance Criteria) 예시
- 대시보드에서 기간=30일, 채널=포털 선택 시 감성 분포/추이·ABSA·토픽이 동기화되어 2초 내 렌더링.
- Alerts WS 연결 끊김 후 5초 내 자동 복구 및 마지막 이벤트 이후부터 재동기화.
- Explore에서 쿼리 입력→요약 반환이 5초 내 완료(캐시 적중 시 1초 내).
